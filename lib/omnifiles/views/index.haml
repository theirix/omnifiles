!!!
%html
  %head
    %title OmniFiles files
    :css
      body {
        padding: 5px;
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
      }

      /* From http://purecss.io */
      .pure-table {
        /* Remove spacing between table cells (from Normalize.css) */
          border-collapse: collapse;
          border-spacing: 0;
          empty-cells: show;
          border: 1px solid #cbcbcb;
      }

      .pure-table caption {
        color: #000;
          font: italic 85%/1 arial, sans-serif;
          padding: 1em 0;
          text-align: center;
      }

      .pure-table td, .pure-table th {
          border-left: 1px solid #cbcbcb;/*  inner column border */
          border-width: 0 0 0 1px;
          font-size: inherit;
          margin: 0;
          overflow: visible; /*to make ths where the title is really long work*/
          padding: 0.5em 0.5em; /* cell padding */
      }

      /* Consider removing this next declaration block, as it causes problems when
      there's a rowspan on the first cell. Case added to the tests. issue#432 */
      .pure-table td:first-child, .pure-table th:first-child {
          border-left-width: 0;
      }

      .pure-table thead {
        background-color: #e0e0e0;
          color: #000;
          text-align: left;
          vertical-align: bottom;
      }

      .pure-table td {
        background-color: transparent;
      }

      /* BORDERED TABLES */
      .pure-table-bordered td {
        border-bottom: 1px solid #cbcbcb;
      }
      .pure-table-bordered tbody > tr:last-child > td {
        border-bottom-width: 0;
      }

      .wide
      {
        width: 100%;
      }

      .delete
      {
        color: #ff0000;
        text-align: center;
        font-weight: bold;
        text-decoration: none;
        border: none;
        background: none;
        cursor: pointer;
      }

      .flash {
        position: relative;
        margin-bottom: 5px;
        border-radius: 3px;
        padding: 8px 20px 8px 20px;
      }

      .flash.notice {
        color: rgb(70, 136, 71);
        background-color: rgba(223, 240, 216, 0.9);
      }

      .flash.error {
        color: rgb(185, 74, 72);
        background-color: rgba(242, 222, 222, 0.9);
      }

  %body
    %h1 Files
    %table.pure-table.pure-table-bordered.wide
      %thead
        %tr
          %th #
          %th URL
          %th Filename
          %th Accessed
          %th Accessed at
          %th Created at
          %th MIME
          %th
        %tbody
          -@hdata.each_with_index do |doc, i|
            %tr
              %td=i
              %td
                %a{href: doc[:url]} #{doc[:url]}
              %td=doc[:original_filename]
              %td=doc[:access_count]
              %td=doc[:access_time]
              %td=doc[:created_time]
              %td=doc[:mime]
              %td
                %form{ :action => "/stat/#{doc[:shortened]}/delete", :method => 'post' }
                  %button.delete{ :type => 'submit'}Delete

    %p
      =styled_flash
